<!-- BEGIN_TF_DOCS -->
## Introduction

The provided module facilitates the provisioning of a Google Kubernetes Engine (GKE) cluster with customizable configurations, including node pool management. Users can specify features such as auto-scaling, machine type, node count, preemptible instances, and custom labels.

**Note** : Due to an ongoing issue with the provider, certain blocks in this module have been temporarily commented out. Once the bug is resolved, these blocks will be reinstated, allowing full functionality. 

## Prerequisite


To provision a Google Kubernetes Engine (GKE) cluster and its node pool using Terraform, the following IAM permissions are typically required:

- roles/container.clusterAdmin 
- roles/container.nodePoolAdmin

## Requirement
| Name | Version |
|------|---------|
| <a name="provider_google-beta"></a> [Terraform](#provider\_google-beta) | 1.7.1 |

## Providers

| Name | Version |
|------|---------|
| <a name="provider_google"></a> [google](#provider\_google) | 5.11 |


## Resources

| Name | Type |
|------|------|
| [google-beta_google_container_cluster](https://registry.terraform.io/providers/hashicorp/google-beta/latest/docs/resources/google_container_cluster) | resource |
| [google_container_node_pool](https://registry.terraform.io/providers/hashicorp/google/latest/docs/resources/container_node_pool) | resource |
## Inputs

| Name | Description | Type | Default | Required |
|------|-------------|------|---------|:--------:|
| <a name="input_addons_config"></a> [addons\_config](#input\_addons\_config) | The configuration of addons supported by GKE. Structure is documented below.<br>  horizontal\_pod\_autoscaling\_disabled - (Optional) Configurations for the Horizontal Pod Autoscaling feature, which increases or decreases the number of replica pods a replication controller has based on the resource usage of the existing pods.<br>  http\_load\_balancing\_disabled - (Optional) Configurations for the HTTP (L7) load balancing controller, which makes it easy to set up HTTP load balancers for services in a cluster.<br>  network\_policy\_config\_disabled - (Optional) Configurations for the NetworkPolicy feature, which controls the traffic between pods.<br>  gcp\_filestore\_csi\_driver\_config\_enabled - (Optional) Configurations for the GCP Filestore CSI Driver feature, which provides a way to use Filestore volumes in a Kubernetes cluster.<br>  gcs\_fuse\_csi\_driver\_config\_enabled - (Optional) Configurations for the GCS FUSE CSI Driver feature, which provides a way to use GCS buckets in a Kubernetes cluster.<br>  cloudrun\_config block supports:<br>    disabled - (Optional) Whether Cloud Run addon is enabled for the cluster.<br>    load\_balancer\_type - (Optional) The load balancer type to use for Cloud Run. Possible values are: "LOAD\_BALANCER\_TYPE\_UNSPECIFIED", "LOAD\_BALANCER\_TYPE\_EXTERNAL", "LOAD\_BALANCER\_TYPE\_INTERNAL". Default value is "LOAD\_BALANCER\_TYPE\_UNSPECIFIED".<br>  istio\_config block supports:<br>    disabled - (Optional) Whether Istio is enabled for the cluster.<br>    auth - (Optional) The Istio auth mode for the cluster. Possible values are: "AUTH\_NONE", "AUTH\_MUTUAL\_TLS". Default value is "AUTH\_NONE".<br>  dns\_cache\_config\_enabled - (Optional) Configurations for the DNS Cache feature, which improves the performance of DNS queries.<br>  gce\_persistent\_disk\_csi\_driver\_config\_enabled - (Optional) Configurations for the GCE Persistent Disk CSI Driver feature, which provides a way to use GCE Persistent Disks in a Kubernetes cluster.<br>  gke\_backup\_agent\_config\_enabled - (Optional) Configurations for the GKE Backup Agent feature, which provides a way to backup and restore GKE clusters.<br>  kalm\_config\_enabled - (Optional) Configurations for the Kalm feature, which provides a way to deploy and manage applications on Kubernetes.<br>  config\_connector\_config\_enabled - (Optional) Configurations for the Config Connector feature, which provides a way to manage GCP resources using Kubernetes. | <pre>object({<br>    horizontal_pod_autoscaling_disabled     = optional(bool)<br>    http_load_balancing_disabled            = optional(bool)<br>    network_policy_config_disabled          = optional(bool)<br>    gcp_filestore_csi_driver_config_enabled = optional(bool)<br>    gcs_fuse_csi_driver_config_enabled      = optional(bool)<br>    cloudrun_config = optional(object({<br>      disabled           = optional(bool)<br>      load_balancer_type = optional(string)<br>    }))<br>    istio_config = optional(object({<br>      disabled = optional(bool)<br>      auth     = optional(string)<br>    }))<br>    dns_cache_config_enabled                      = optional(bool)<br>    gce_persistent_disk_csi_driver_config_enabled = optional(bool)<br>    gke_backup_agent_config_enabled               = optional(bool)<br>    kalm_config_enabled                           = optional(bool)<br>    config_connector_config_enabled               = optional(bool)<br>  })</pre> | `null` | no |
| <a name="input_allow_net_admin"></a> [allow\_net\_admin](#input\_allow\_net\_admin) | Enable NET\_ADMIN for the cluster. Defaults to false. This field should only be enabled for Autopilot clusters (enable\_autopilot set to true). | `bool` | `false` | no |
| <a name="input_authenticator_groups_config_security_group"></a> [authenticator\_groups\_config\_security\_group](#input\_authenticator\_groups\_config\_security\_group) | The name of the RBAC security group for use with Google security groups in Kubernetes RBAC. Group name must be in format gke-security-groups@yourdomain.com. | `string` | `null` | no |
| <a name="input_binary_authorization"></a> [binary\_authorization](#input\_binary\_authorization) | Mode of operation for Binary Authorization policy evaluation. Valid values are DISABLED and PROJECT\_SINGLETON\_POLICY\_ENFORCE. | <pre>object({<br>    evaluation_mode = optional(string)<br>  })</pre> | `null` | no |
| <a name="input_cluster_autoscaling"></a> [cluster\_autoscaling](#input\_cluster\_autoscaling) | The autoscaling settings of the cluster. Structure is documented below.<br>  enabled - (Optional) Whether the Node Auto-Provisioning feature is enabled. When enabled, the NodePool's min\_node\_count and max\_node\_count will be honored.<br>  resource\_limits block supports:<br>    resource\_type - (Required) Resource type that the quantity applies to. Possible values are "cpu" and "memory".<br>    minimum - (Optional) Minimum amount of the resource in the cluster. If specified, the value must be at least 0.<br>    maximum - (Optional) Maximum amount of the resource in the cluster. If specified, the value must be at least 0.<br>  auto\_provisioning\_defaults block supports:<br>    min\_cpu\_platform - (Optional) Minimum CPU platform to be used by this instance. The instance may be scheduled on the specified or newer CPU platform. Applicable values are the friendly names of CPU platforms, such as minCpuPlatform: "Intel Haswell" or minCpuPlatform: "Intel Sandy Bridge". For more information, read how to specify min CPU platform.<br>    oauth\_scopes - (Optional) Scopes that are used by default. The following scopes are recommended, but not required, and by default are not included: https://www.googleapis.com<br>    service\_account - (Optional) The Google Cloud Platform Service Account to be used by the node VMs. If no Service Account is specified, the "default" service account is used.<br>    boot\_disk\_kms\_key - (Optional) The Customer Managed Encryption Key used to encrypt the boot disk attached to the node. The Customer Managed Encryption Key must be in the same region as the cluster. When specified, the node boot disk will be encrypted with the provided Customer Managed Encryption Key using Google Cloud Storage encryption. If unspecified, the boot disk will be encrypted with Google default encryption.<br>    disk\_size\_gb - (Optional) Size of the disk attached to each node, specified in GB. The smallest allowed disk size is 10GB. If unspecified, the default disk size is 100GB.<br>    disk\_type - (Optional) Type of the disk attached to each node (e.g. 'pd-standard', 'pd-ssd' or 'pd-balanced'). If unspecified, the default disk type is 'pd-standard'<br>    image\_type - (Optional) The image type to use for this node. Note that for a given image type, the latest version of it will be used.<br>    shielded\_instance\_config block supports:<br>      enable\_secure\_boot - (Optional) Defines whether the instance has Secure Boot enabled. Secure Boot helps ensure that the system only runs authentic software by verifying the digital signature of all boot components, and halting the boot process if signature verification fails.<br>      enable\_integrity\_monitoring - (Optional) Defines whether the instance has integrity monitoring enabled. Enables monitoring and attestation of the boot integrity of the instance. The attestation is performed against the integrity policy baseline. This baseline is initially derived from the implicitly trusted boot image when the instance is created.<br>    management block supports:<br>      auto\_repair - (Optional) A flag that specifies whether the node auto-repair is enabled for the node pool. If enabled, the nodes in this node pool will be monitored and, if they fail health checks too many times, an automatic repair action will be triggered.<br>      auto\_upgrade - (Optional) A flag that specifies whether node auto-upgrade is enabled. This defaults to true. If enabled, node auto-upgrade helps keep the nodes in your node pool up to date with the latest release version of Kubernetes.<br>    autoscaling\_profile - (Optional) The autoscaling profile of the NodePool. Possible values are "BALANCED" and "OPTIMIZE\_UTILIZATION". Defaults to "BALANCED". | <pre>object({<br>    enabled = optional(bool)<br>    resource_limits = optional(list(object({<br>      resource_type = string<br>      minimum       = optional(number)<br>      maximum       = optional(number)<br>    })))<br>    auto_provisioning_defaults = optional(object({<br>      min_cpu_platform  = optional(string)<br>      oauth_scopes      = optional(list(string))<br>      service_account   = optional(string)<br>      boot_disk_kms_key = optional(string)<br>      disk_size_gb      = optional(number, 100)<br>      disk_type         = optional(string, "pd-standard")<br>      image_type        = optional(string)<br>      shielded_instance_config = optional(object({<br>        enable_secure_boot          = optional(bool, false)<br>        enable_integrity_monitoring = optional(bool, true)<br>      }))<br>      management = optional(object({<br>        auto_repair  = optional(bool)<br>        auto_upgrade = optional(bool)<br>      }))<br>    }))<br>    autoscaling_profile = optional(string, "BALANCED")<br>  })</pre> | `null` | no |
| <a name="input_cluster_ipv4_cidr"></a> [cluster\_ipv4\_cidr](#input\_cluster\_ipv4\_cidr) | The IP address range of the Kubernetes pods in this cluster in CIDR notation (e.g. 10.96.0.0/14). Leave blank to have one automatically chosen or specify a /14 block in 10.0.0.0/8. This field will default a new cluster to routes-based, where ip\_allocation\_policy is not defined. | `string` | `null` | no |
| <a name="input_cluster_telemetry_type"></a> [cluster\_telemetry\_type](#input\_cluster\_telemetry\_type) | Telemetry integration for the cluster. Supported values (ENABLED, DISABLED, SYSTEM\_ONLY); SYSTEM\_ONLY (Only system components are monitored and logged) is only available in GKE versions 1.15 and later. | `string` | `null` | no |
| <a name="input_confidential_nodes_enabled"></a> [confidential\_nodes\_enabled](#input\_confidential\_nodes\_enabled) | Enable Confidential GKE Nodes for this cluster, to enforce encryption of data in-use. | `bool` | `false` | no |
| <a name="input_container_cluster_name"></a> [container\_cluster\_name](#input\_container\_cluster\_name) | The name of the cluster. | `string` | n/a | yes |
| <a name="input_cost_management_config_enabled"></a> [cost\_management\_config\_enabled](#input\_cost\_management\_config\_enabled) | Whether to enable the cost allocation feature. | `bool` | `false` | no |
| <a name="input_database_encryption"></a> [database\_encryption](#input\_database\_encryption) | The database encryption settings of the cluster. Structure is documented below.<br>  state - (Optional) The state of the database encryption. Possible values are "DECRYPTED" and "ENCRYPTED". Default value is "DECRYPTED".<br>  key\_name - (Optional) The name of the encryption key to use. When creating a new cluster, this field is required. When updating an existing cluster, this field must be empty. | <pre>object({<br>    state    = string<br>    key_name = string<br>  })</pre> | `null` | no |
| <a name="input_datapath_provider"></a> [datapath\_provider](#input\_datapath\_provider) | The desired datapath provider for this cluster. This is set to LEGACY\_DATAPATH by default, which uses the IPTables-based kube-proxy implementation. Set to ADVANCED\_DATAPATH to enable Dataplane v2. | `string` | `"LEGACY_DATAPATH"` | no |
| <a name="input_default_max_pods_per_node"></a> [default\_max\_pods\_per\_node](#input\_default\_max\_pods\_per\_node) | The default maximum number of pods per node in this cluster. This doesn't work on routes-based clusters, clusters that don't have IP Aliasing enabled. | `number` | `null` | no |
| <a name="input_default_snat_status_disabled"></a> [default\_snat\_status\_disabled](#input\_default\_snat\_status\_disabled) | GKE SNAT DefaultSnatStatus contains the desired state of whether default sNAT should be disabled on the cluster, API doc. | `bool` | `null` | no |
| <a name="input_deletion_protection"></a> [deletion\_protection](#input\_deletion\_protection) | Whether or not to allow Terraform to destroy the cluster. Unless this field is set to false in Terraform state, a terraform destroy or terraform apply that would delete the cluster will fail. | `bool` | `false` | no |
| <a name="input_description"></a> [description](#input\_description) | The sample description of the cluster. | `string` | n/a | yes |
| <a name="input_dns_config"></a> [dns\_config](#input\_dns\_config) | Dns\_config block supports the following:<br>  cluster\_dns - (Optional) The IP address of a DNS server used by the cluster. This should be set when use\_cloud\_dns is true.<br>  cluster\_dns\_domain - (Optional) The DNS domain for the cluster.<br>  cluster\_dns\_scope - (Optional) The scope of the cluster DNS server. Default is "GOOGLE\_DEFAULT". | <pre>object({<br>    cluster_dns        = optional(string)<br>    cluster_dns_domain = optional(string)<br>    cluster_dns_scope  = optional(string)<br>  })</pre> | `null` | no |
| <a name="input_enable_autopilot"></a> [enable\_autopilot](#input\_enable\_autopilot) | Enable Autopilot for this cluster. Defaults to false. Note that when this option is enabled, certain features of Standard GKE are not available. | `bool` | `null` | no |
| <a name="input_enable_fqdn_network_policy"></a> [enable\_fqdn\_network\_policy](#input\_enable\_fqdn\_network\_policy) | Whether FQDN Network Policy is enabled for this cluster. | `bool` | `null` | no |
| <a name="input_enable_intranode_visibility"></a> [enable\_intranode\_visibility](#input\_enable\_intranode\_visibility) | Whether Intra-node visibility is enabled for this cluster. | `bool` | `null` | no |
| <a name="input_enable_k8s_beta_api"></a> [enable\_k8s\_beta\_api](#input\_enable\_k8s\_beta\_api) | Enabled Kubernetes Beta APIs. To list a Beta API resource, use the representation {group}/{version}/{resource}. The version must be a Beta version. Note that you cannot disable beta APIs that are already enabled on a cluster without recreating it. | `list(any)` | `null` | no |
| <a name="input_enable_kubernetes_alpha"></a> [enable\_kubernetes\_alpha](#input\_enable\_kubernetes\_alpha) | Whether to enable Kubernetes Alpha features for this cluster. Note that when this option is enabled, the cluster cannot be upgraded and will be automatically deleted after 30 days. | `bool` | `null` | no |
| <a name="input_enable_l4_ilb_subsetting"></a> [enable\_l4\_ilb\_subsetting](#input\_enable\_l4\_ilb\_subsetting) | Whether L4 ILB Subsetting is enabled for this cluster. | `bool` | `null` | no |
| <a name="input_enable_legacy_abac"></a> [enable\_legacy\_abac](#input\_enable\_legacy\_abac) | Whether the ABAC authorizer is enabled for this cluster. When enabled, identities in the system, including service accounts, nodes, and controllers, will have statically granted permissions beyond those provided by the RBAC configuration or IAM. Defaults to false | `bool` | `false` | no |
| <a name="input_enable_multi_networking"></a> [enable\_multi\_networking](#input\_enable\_multi\_networking) | Whether Multi-Networking is enabled for this cluster. | `bool` | `null` | no |
| <a name="input_enable_shielded_nodes"></a> [enable\_shielded\_nodes](#input\_enable\_shielded\_nodes) | Enable Shielded Nodes features on all nodes in this cluster. Defaults to true. | `bool` | `true` | no |
| <a name="input_enable_tpu"></a> [enable\_tpu](#input\_enable\_tpu) | Whether to enable Cloud TPU resources in this cluster | `bool` | `null` | no |
| <a name="input_fleet_project"></a> [fleet\_project](#input\_fleet\_project) | The name of the Fleet host project where this cluster will be registered. | `string` | `null` | no |
| <a name="input_gateway_api_config_channel"></a> [gateway\_api\_config\_channel](#input\_gateway\_api\_config\_channel) | Which Gateway Api channel should be used. CHANNEL\_DISABLED, CHANNEL\_EXPERIMENTAL or CHANNEL\_STANDARD. | `string` | `"CHANNEL_STANDARD"` | no |
| <a name="input_identity_service_config_enabled"></a> [identity\_service\_config\_enabled](#input\_identity\_service\_config\_enabled) | Whether to enable the workload identity feature. | `bool` | `null` | no |
| <a name="input_initial_node_count"></a> [initial\_node\_count](#input\_initial\_node\_count) | The number of nodes to create in this cluster's default node pool. In regional or multi-zonal clusters, this is the number of nodes per zone. Must be set if node\_pool is not set. If you're using google\_container\_node\_pool objects with no default node pool, you'll need to set this to a value of at least 1, alongside setting remove\_default\_node\_pool to true. | `number` | `1` | no |
| <a name="input_ip_allocation_policy"></a> [ip\_allocation\_policy](#input\_ip\_allocation\_policy) | Ip\_allocation\_policy block supports the following:<br>  cluster\_secondary\_range\_name - (Optional) The name of the secondary range to be used as for the cluster CIDR block. The secondary range will be used for pod IP addresses. This must be an existing secondary range associated with the cluster subnetwork. This field is only applicable with use\_ip\_aliases is true and create\_subnetwork is false.<br>  services\_secondary\_range\_name - (Optional) The name of the secondary range to be used as for the services CIDR block. The secondary range will be used for service ClusterIPs. This must be an existing secondary range associated with the cluster subnetwork. This field is only applicable with use\_ip\_aliases is true and create\_subnetwork is false.<br>  cluster\_ipv4\_cidr\_block - (Optional) The IP address range for the cluster pod IPs. If this field is set, then cluster.cluster\_ipv4\_cidr must be left blank.<br>  services\_ipv4\_cidr\_block - (Optional) The IP address range of the services IPs in this cluster. If blank, a range will be automatically chosen with the default size. If this field is set, then cluster.services\_ipv4\_cidr must be left blank.<br>  stack\_type - (Optional) The type of IP allocation to be used in the cluster. This must be either 'IPV4' or 'IPV6'. If this field is unspecified, then the cluster's IP allocation policy will be left unchanged (IPV4).<br>  additional\_pod\_range\_names - (Optional) The name of the secondary range to be used as for the cluster CIDR block. The secondary range will be used for pod IP addresses. This must be an existing secondary range associated with the cluster subnetwork. This field is only applicable with use\_ip\_aliases is true and create\_subnetwork is false. | <pre>object({<br>    cluster_secondary_range_name  = optional(string)<br>    services_secondary_range_name = optional(string)<br>    cluster_ipv4_cidr_block       = optional(string)<br>    services_ipv4_cidr_block      = optional(string)<br>    stack_type                    = optional(string, "IPV4")<br>    additional_pod_range_names    = optional(list(string))<br>  })</pre> | `null` | no |
| <a name="input_location"></a> [location](#input\_location) | The location (region or zone) in which the cluster master will be created, as well as the default node location. | `string` | `"us-central1-a"` | no |
| <a name="input_logging_config_enable_components"></a> [logging\_config\_enable\_components](#input\_logging\_config\_enable\_components) | The GKE components exposing logs. Supported values include: SYSTEM\_COMPONENTS, APISERVER, CONTROLLER\_MANAGER, SCHEDULER, and WORKLOADS. | `list(string)` | `[]` | no |
| <a name="input_logging_service"></a> [logging\_service](#input\_logging\_service) | The logging service that the cluster should write logs to. Available options include logging.googleapis.com(Legacy Stackdriver), logging.googleapis.com/kubernetes(Stackdriver Kubernetes Engine Logging), and none. Defaults to logging.googleapis.com/kubernetes | `string` | `"logging.googleapis.com/kubernetes"` | no |
| <a name="input_maintenance_policy"></a> [maintenance\_policy](#input\_maintenance\_policy) | Maintenance\_policy block supports the following:<br>  daily\_maintenance\_window supports:<br>    start\_time - (Optional) Time within the maintenance window to start the maintenance operations. It must be in format "HH:MM", where HH : [00-23] and MM : [00-59] GMT.<br>    duration - (Optional) Duration of the time window, automatically chosen to be smallest possible in the given scenario.<br>  recurring\_window supports:<br>    start\_time - (Optional) Time within the maintenance window to start the maintenance operations. It must be in format "HH:MM", where HH : [00-23] and MM : [00-59] GMT.<br>    end\_time - (Optional) Time within the maintenance window to end the maintenance operations. It must be in format "HH:MM", where HH : [00-23] and MM : [00-59] GMT.<br>    recurrence - (Optional) An RRULE (https://tools.ietf.org/html/rfc5545#section-<br>  maintenance\_exclusions supports:<br>    exclusion\_name - (Optional) The name of the maintenance exclusion. It must be unique within the project.<br>    start\_time - (Optional) Time within the maintenance window to start the maintenance operations. It must be in format "HH:MM", where HH : [00-23] and MM : [00-59] GMT.<br>    end\_time - (Optional) Time within the maintenance window to end the maintenance operations. It must be in format "HH:MM", where HH : [00-23] and MM : [00-59] GMT.<br>    exclusion\_options\_scope - (Optional) The scope at which the maintenance exclusion applies. The possible values are "ZONE" and "CLUSTER". Default value is "ZONE". | <pre>object({<br>    daily_maintenance_window = optional(object({<br>      start_time = optional(string)<br>      duration   = optional(string)<br>    }))<br>    recurring_window = optional(object({<br>      start_time = optional(string)<br>      end_time   = optional(string)<br>      recurrence = optional(string)<br>    }))<br>    maintenance_exclusions = optional(object({<br>      exclusion_name          = optional(string)<br>      start_time              = optional(string)<br>      end_time                = optional(string)<br>      exclusion_options_scope = optional(string)<br>    }))<br>  })</pre> | `null` | no |
| <a name="input_master_auth"></a> [master\_auth](#input\_master\_auth) | Master\_auth block supports the following:<br>    issue\_client\_certificate - (Optional) Whether client certificate is enabled for secure cluster communication. If enabled, issuance is handled by GKE. If disabled, a client certificate must be manually issued. | <pre>object({<br>    issue_client_certificate = bool<br>  })</pre> | `null` | no |
| <a name="input_master_authorized_networks_config"></a> [master\_authorized\_networks\_config](#input\_master\_authorized\_networks\_config) | Cidr\_blocks supports:<br>      cidr\_block - (Required) The IP address range in CIDR notation to add to the master authorized network list.<br>      display\_name - (Optional) An optional description of the block.<br>    gcp\_public\_cidrs\_access\_enabled - (Optional) Whether GCP public IP CIDRs will be allowed access to the master. | <pre>object({<br>    cidr_blocks = optional(list(object({<br>      cidr_block   = optional(string)<br>      display_name = optional(string)<br>    })))<br>    gcp_public_cidrs_access_enabled = optional(bool)<br>  })</pre> | `null` | no |
| <a name="input_mesh_certificates_enable"></a> [mesh\_certificates\_enable](#input\_mesh\_certificates\_enable) | Controls the issuance of workload mTLS certificates. It is enabled by default. Workload Identity is required, see workload\_config. | `bool` | `null` | no |
| <a name="input_min_master_version"></a> [min\_master\_version](#input\_min\_master\_version) | The current version of the master in the cluster. This may be different than the min\_master\_version set in the config if the master has been updated by GKE. | `string` | `null` | no |
| <a name="input_monitoring_config"></a> [monitoring\_config](#input\_monitoring\_config) | Monitoring\_config block supports the following:<br>  enable\_components - (Optional) The list of monitoring components to disable. This should be used to disable the default components of the cluster. The default is not to disable any components.<br>  managed\_prometheus\_enabled - (Optional) Whether to enable the managed Prometheus component. Default is false.<br>  advanced\_datapath\_observability\_config supports:<br>    enable\_metrics - (Required) Whether to enable the collection of network and system metrics.<br>    relay\_mode - (Optional) The mode of the Datapath relay. Default is "DEFAULT". | <pre>object({<br>    enable_components          = optional(string)<br>    managed_prometheus_enabled = optional(bool)<br>    advanced_datapath_observability_config = optional(object({<br>      enable_metrics = bool<br>      relay_mode     = optional(string)<br>    }))<br>  })</pre> | `null` | no |
| <a name="input_monitoring_service"></a> [monitoring\_service](#input\_monitoring\_service) | The monitoring service that the cluster should write metrics to. Automatically send metrics from pods in the cluster to the Google Cloud Monitoring API. VM metrics will be collected by Google Compute Engine regardless of this setting Available options include monitoring.googleapis.com(Legacy Stackdriver), monitoring.googleapis.com/kubernetes(Stackdriver Kubernetes Engine Monitoring), and none. Defaults to monitoring.googleapis.com/kubernetes | `string` | `"monitoring.googleapis.com/kubernetes"` | no |
| <a name="input_network"></a> [network](#input\_network) | The name or self\_link of the Google Compute Engine network to which the cluster is connected. For Shared VPC, set this to the self link of the shared network. | `string` | `null` | no |
| <a name="input_network_policy"></a> [network\_policy](#input\_network\_policy) | Network\_policy block supports the following:<br>  enabled - (Optional) Whether network policy is enabled on the cluster. Default is false.<br>  provider - (Optional) The selected network policy provider. Possible values are "CALICO" and "ACCELERATED". Default is "CALICO". | <pre>object({<br>    enabled  = bool<br>    provider = optional(string, "PROVIDER_UNSPECIFIED")<br>  })</pre> | `null` | no |
| <a name="input_networking_mode"></a> [networking\_mode](#input\_networking\_mode) | Determines whether alias IPs or routes will be used for pod IPs in the cluster. Options are VPC\_NATIVE or ROUTES. VPC\_NATIVE enables IP aliasing. Newly created clusters will default to VPC\_NATIVE. | `string` | `"VPC_NATIVE"` | no |
| <a name="input_node_config"></a> [node\_config](#input\_node\_config) | Node\_config block supports the following:<br>  disk\_size\_gb - (Optional) Size of the disk attached to each node, specified in GB. The smallest allowed disk size is 10GB. If unspecified, the default disk size is 100GB.<br>  disk\_type - (Optional) Type of the disk attached to each node (e.g. 'pd-standard', 'pd-ssd' or 'pd-balanced'). If unspecified, the default disk type is 'pd-standard'<br>  enable\_confidential\_storage - (Optional) Whether the nodes are created as confidential VMs.<br>  ephemeral\_storage\_config:<br>    local\_ssd\_count - (Optional) The number of local SSD disks to be attached to the node. The limit for this value is dependent upon the maximum number of disks available on the machine type of the node. The minimum value allowed is 0. If not specified, the default is 0.<br>  ephemeral\_storage\_local\_ssd\_config:<br>    local\_ssd\_count - (Optional) The number of local SSD disks to be attached to the node. The limit for this value is dependent upon the maximum number of disks available on the machine type of the node. The minimum value allowed is 0. If not specified, the default is 0.<br>  fast\_socket\_enabled - (Optional) Whether the node's runtime performance is optimized for high performance.<br>  local\_nvme\_ssd\_block\_config:<br>    local\_ssd\_count - (Optional) The number of local SSD disks to be attached to the node. The limit for this value is dependent upon the maximum number of disks available on the machine type of the node. The minimum value allowed is 0. If not specified, the default is 0.<br>  logging\_variant - (Optional) The type of logging agent that is deployed by default for newly created node pools in the cluster. Valid values include DEFAULT and MAX\_THROUGHPUT. See Increasing logging agent throughput for more information.<br>  gcfs\_config\_enabled - (Optional) Whether the GKE Filestore CSI Driver is enabled for the node pool.<br>  gvnic\_enabled - (Optional) Whether the GvNIC feature is enabled for the node pool.<br>  guest\_accelerator:<br>    count - (Optional) The number of the guest accelerator cards exposed to this instance.<br>    type - (Optional) The type of the guest accelerator cards exposed to this instance. The default is "nvidia-tesla-v100".<br>    gpu\_driver\_installation\_config:<br>      gpu\_driver\_version - (Optional) The GPU driver version to install on the node. The default is the latest supported version.<br>    gpu\_partition\_size - (Optional) Size of the GPU partition. If not specified, the default is 0.<br>    gpu\_sharing\_config:<br>      gpu\_sharing\_strategy - (Optional) The GPU sharing strategy. Possible values are "NO\_SHARING", "SINGLE\_INSTANCE" and "MULTI\_INSTANCE". The default is "NO\_SHARING".<br>      max\_shared\_clients\_per\_gpu - (Optional) The maximum number of instances that can share a single physical GPU. The default is 0.<br>    image\_type - (Optional) The image type to use for this node. Note that for a given image type, the latest version of it will be used.<br>    labels - (Optional) The map of labels to be attached to this node.<br>    resource\_labels - (Optional) The map of resource labels to be attached to this node.<br>    local\_ssd\_count - (Optional) The number of local SSD disks to be attached to the node. The limit for this value is dependent upon the maximum number of disks available on the machine type of the node. The minimum value allowed is 0. If not specified, the default is 0.<br>    machine\_type - (Optional) The name of a Google Compute Engine machine type. The default is "e2-medium".<br>    metadata - (Optional) The metadata key/value pairs assigned to instances in the cluster.<br>    min\_cpu\_platform - (Optional) The minimum CPU platform to be used by this instance. The instance may be scheduled on the specified or newer CPU platform. Applicable values are the friendly names of CPU platforms, such as minCpuPlatform: "Intel Haswell" or minCpuPlatform: "Intel Sandy Bridge". For more information, read how to specify min CPU platform.<br>    oauth\_scopes - (Optional) The set of Google API scopes to be made available on all of the node VMs under the "default" service account. The default is "https://www.googleapis.com/auth/cloud-platform".<br>    preemptible - (Optional) Whether the nodes are created as preemptible VM instances. The default is false.<br>    reservation\_affinity:<br>      consume\_reservation\_type - (Optional) Corresponds to the type of reservation to consume. Possible values are "ANY\_RESERVATION" and "SPECIFIC\_RESERVATION". The default is "ANY\_RESERVATION".<br>      key - (Optional) Corresponds to the label key of a reservation resource. The key must be empty if consume\_reservation\_type is "ANY\_RESERVATION".<br>      values - (Optional) Corresponds to the label values of a reservation resource. The values must be 1:1 with key.<br>    spot - (Optional) Whether the nodes are created as preemptible VM instances. The default is false.<br>    sandbox\_config\_type - (Optional) The sandbox configuration for this node.<br>    boot\_disk\_kms\_key - (Optional) The Customer Managed Encryption Key used to encrypt the boot disk attached to the node. The Customer Managed Encryption Key must be in the same region as the cluster. When specified, the node boot disk will be encrypted with the provided Customer Managed Encryption Key using Google Cloud Storage encryption. If unspecified, the boot disk will be encrypted with Google default encryption.<br>    service\_account - (Optional) The Google Cloud Platform Service Account to be used by the node VMs. If no Service Account is specified, the "default" service account is used.<br>    shielded\_instance\_config:<br>      enable\_secure\_boot - (Optional) Defines whether the instance has Secure Boot enabled. Secure Boot helps ensure that the system only runs authentic software by verifying the digital signature of all boot components, and halting the boot process if signature verification fails.<br>      enable\_integrity\_monitoring - (Optional) Defines whether the instance has integrity monitoring enabled. Enables monitoring and attestation of the boot integrity of the instance. The attestation is performed against the integrity policy baseline. This baseline is initially derived from the implicitly trusted boot image when the instance is created.<br>    tags - The list of instance tags applied to all nodes. Tags are used to identify valid sources or targets for network firewalls and are specified by the client during cluster or node pool creation. Each tag within the list must comply with RFC1035.<br>    taint supports:<br>      key - (Required) Key for the taint.<br>      value - (Required) Value for the taint.<br>      effect - (Required) Effect for the taint. Possible values are "NO\_SCHEDULE", "PREFER\_NO\_SCHEDULE" and "NO\_EXECUTE".<br>    workload\_metadata\_config\_mode - (Optional) The workload metadata configuration for this node.<br>    kubelet\_config:<br>      cpu\_manager\_policy - (Optional) The CPU management policy on the node. Available values are "none", "static" and "default". The default is "none".<br>      cpu\_cfs\_quota - (Optional) Whether the CPU CFS quota is enabled. The default is false.<br>      cpu\_cfs\_quota\_period - (Optional) The CPU CFS quota period value. Specified as a sequence of decimal numbers, each with optional fraction and a unit suffix, such as "300ms". Valid time units are "ns", "us" (or "µs"), "ms", "s", "m", "h". The value must be a positive duration.<br>      pod\_pids\_limit - (Optional) The maximum number of PIDs in a pod. The default is -1.<br>    linux\_node\_config\_sysctls - (Optional) The map of sysctl values to be set on the node.<br>    cgroup\_mode -  Possible cgroup modes that can be used. Accepted values are:<br>CGROUP\_MODE\_UNSPECIFIED: CGROUP\_MODE\_UNSPECIFIED is when unspecified cgroup configuration is used. The default for the GKE node OS image will be used.<br>CGROUP\_MODE\_V1: CGROUP\_MODE\_V1 specifies to use cgroupv1 for the cgroup configuration on the node image.<br>CGROUP\_MODE\_V2: CGROUP\_MODE\_V2 specifies to use cgroupv2 for the cgroup configuration on the node image.<br>    node\_group - (Optional) The name of the node group from which the node is created. If specified, the node will be created in the node group.<br>    sole\_tenant\_config:<br>      node\_affinity supports:<br>        key - (Required) The key for the node affinity label.<br>        operator - (Required) The operator for node affinity. Possible values are "IN" and "NOT\_IN".<br>        values - (Required) The values for the node affinity label.<br>    advanced\_machine\_features:<br>      threads\_per\_core - (Optional) The number of threads per core in the node. The default is 1. | <pre>object({<br>    disk_size_gb                = optional(number, 100)<br>    disk_type                   = optional(string, "pd-standard")<br>    enable_confidential_storage = optional(bool)<br>    ephemeral_storage_config = optional(object({<br>      local_ssd_count = number<br>    }))<br>    ephemeral_storage_local_ssd_config = optional(object({<br>      local_ssd_count = number<br>    }))<br>    fast_socket_enabled = optional(bool)<br>    local_nvme_ssd_block_config = optional(object({<br>      local_ssd_count = optional(number)<br>    }))<br>    logging_variant     = optional(string)<br>    gcfs_config_enabled = optional(bool)<br>    gvnic_enabled       = optional(bool)<br>    guest_accelerator = optional(object({<br>      count = number<br>      type  = string<br>      gpu_driver_installation_config = optional(object({<br>        gpu_driver_version = string<br>      }))<br>      gpu_partition_size = optional(number)<br>      gpu_sharing_config = optional(object({<br>        gpu_sharing_strategy       = string<br>        max_shared_clients_per_gpu = number<br>      }))<br>    }))<br>    image_type       = optional(string)<br>    labels           = optional(map(string))<br>    resource_labels  = optional(map(string))<br>    local_ssd_count  = optional(number, 0)<br>    machine_type     = optional(string, "e2-medium")<br>    metadata         = optional(map(string))<br>    min_cpu_platform = optional(string)<br>    oauth_scopes     = optional(list(string))<br>    preemptible      = optional(bool, false)<br>    reservation_affinity = optional(object({<br>      consume_reservation_type = string<br>      key                      = optional(string)<br>      values                   = optional(list(string))<br>    }))<br>    spot                = optional(bool, false)<br>    sandbox_config_type = optional(string)<br>    boot_disk_kms_key   = optional(string)<br>    service_account     = optional(string)<br>    shielded_instance_config = optional(object({<br>      enable_secure_boot          = optional(bool, false)<br>      enable_integrity_monitoring = optional(bool, true)<br>    }))<br>    tags = list(string)<br>    taint = optional(list(object({<br>      key    = string<br>      value  = string<br>      effect = string<br>    })))<br>    workload_metadata_config_mode = optional(string)<br>    kubelet_config = optional(object({<br>      cpu_manager_policy   = string<br>      cpu_cfs_quota        = optional(bool)<br>      cpu_cfs_quota_period = optional(string)<br>      pod_pids_limit       = optional(number)<br>    }))<br>    linux_node_config_sysctls     = optional(map(string))<br>    linux_node_config_cgroup_mode = optional(string)<br>    node_group                    = optional(string)<br>    sole_tenant_config = optional(object({<br>      node_affinity = list(object({<br>        key      = string<br>        operator = string<br>        values   = list(string)<br>      }))<br>    }))<br>    advanced_machine_features = optional(object({<br>      threads_per_core = optional(number)<br>    }))<br>  })</pre> | `null` | no |
| <a name="input_node_locations"></a> [node\_locations](#input\_node\_locations) | The list of zones in which the cluster's nodes are located. Nodes must be in the region of their regional cluster or in the same region as their cluster's zone for zonal clusters. If this is specified for a zonal cluster, omit the cluster's zone. | `list(string)` | `null` | no |
| <a name="input_node_pool_auto_config"></a> [node\_pool\_auto\_config](#input\_node\_pool\_auto\_config) | Network\_tags for the node pool | <pre>object({<br>    network_tags = optional(map(string))<br>  })</pre> | `null` | no |
| <a name="input_node_pool_autoscaling"></a> [node\_pool\_autoscaling](#input\_node\_pool\_autoscaling) | Node\_pool\_autoscaling block supports the following:<br>  min\_node\_count - (Optional) Minimum number of nodes in the NodePool. Must be >= 1 and <= max\_node\_count. Cannot be used with total\_min\_node\_count.<br>  max\_node\_count - (Optional) Maximum number of nodes in the NodePool. Must be >= min\_node\_count. Cannot be used with total\_max\_node\_count.<br>  total\_min\_node\_count - (Optional) Minimum number of nodes in the NodePool's autoscaler. Must be >= 1 and <= total\_max\_node\_count. Cannot be used with min\_node\_count.<br>  total\_max\_node\_count - (Optional) Maximum number of nodes in the NodePool's autoscaler. Must be >= total\_min\_node\_count. Cannot be used with max\_node\_count.<br>  location\_policy - (Optional) The location of the NodePool. If not specified, the cluster-level location is used. If the cluster-level location is not specified, the cluster location is used. | <pre>object({<br>    min_node_count       = optional(number)<br>    max_node_count       = optional(number)<br>    total_min_node_count = optional(number)<br>    total_max_node_count = optional(number)<br>    location_policy      = optional(string)<br>  })</pre> | `null` | no |
| <a name="input_node_pool_confidential_nodes_enabled"></a> [node\_pool\_confidential\_nodes\_enabled](#input\_node\_pool\_confidential\_nodes\_enabled) | Enable Confidential GKE Nodes for this node pool, to enforce encryption of data in-use. | `bool` | `false` | no |
| <a name="input_node_pool_defaults"></a> [node\_pool\_defaults](#input\_node\_pool\_defaults) | Node\_config\_defaults block supports the following:<br>  logging\_variant - (Optional) The type of logging agent that is deployed by default for newly created node pools in the cluster. Valid values include DEFAULT and MAX\_THROUGHPUT. See Increasing logging agent throughput for more information.".<br>  gcfs\_config\_enabled - (Optional) Whether the GKE Filestore CSI Driver is enabled for the node pool. | <pre>object({<br>    node_config_defaults = optional(object({<br>      logging_variant     = optional(string)<br>      gcfs_config_enabled = optional(bool)<br>    }))<br>  })</pre> | `null` | no |
| <a name="input_node_pool_initial_node_count"></a> [node\_pool\_initial\_node\_count](#input\_node\_pool\_initial\_node\_count) | The initial number of nodes for the pool. In regional or multi-zonal clusters, this is the number of nodes per zone. Changing this will force recreation of the resource. WARNING: Resizing your node pool manually may change this value in your existing cluster, which will trigger destruction and recreation on the next Terraform run (to rectify the discrepancy). If you don't need this value, don't set it. If you do need it, | `number` | `null` | no |
| <a name="input_node_pool_management"></a> [node\_pool\_management](#input\_node\_pool\_management) | Node\_pool\_management block supports the following:<br>  auto\_repair - (Optional) Whether the nodes will be automatically repaired.<br>  auto\_upgrade - (Optional) Whether the nodes will be automatically upgraded. | <pre>object({<br>    auto_repair  = optional(bool)<br>    auto_upgrade = optional(bool)<br>  })</pre> | `null` | no |
| <a name="input_node_pool_max_pods_per_node"></a> [node\_pool\_max\_pods\_per\_node](#input\_node\_pool\_max\_pods\_per\_node) | The maximum number of pods per node in this node pool. Note that this does not work on node pools which are route-based - that is, node pools belonging to clusters that do not have IP Aliasing enabled. | `number` | `null` | no |
| <a name="input_node_pool_name"></a> [node\_pool\_name](#input\_node\_pool\_name) | Name of the node pool. If omitted, Terraform will assign a random, unique name. | `string` | n/a | yes |
| <a name="input_node_pool_name_prefix"></a> [node\_pool\_name\_prefix](#input\_node\_pool\_name\_prefix) | Creates a unique name for the node pool beginning with the specified prefix. Conflicts with name. | `string` | `null` | no |
| <a name="input_node_pool_network_config"></a> [node\_pool\_network\_config](#input\_node\_pool\_network\_config) | Node\_pool\_network\_config block supports the following:<br>  create\_pod\_range - (Optional) Whether to create a new pod range for the node pool. If false, the cluster-level default pod range will be used.<br>  enable\_private\_nodes - (Optional) Whether the nodes are created as private nodes. If enabled, the nodes will get internal IP addresses only.<br>  pod\_ipv4\_cidr\_block - (Optional) The IP address range for the pods in this node pool. If left blank, the default value of '<br>  pod\_range - (Optional) The name of the pod range to use for the node pool. If left blank, the default name of "default-pool" will be used.<br>  additional\_node\_network\_configs supports:<br>    network - (Optional) The name of the network to which the node pool is connected. If left blank, the default network will be used.<br>    subnetwork - (Optional) The name of the subnetwork to which the node pool is connected. If left blank, the default subnetwork will be used.<br>  additional\_pod\_network\_configs supports:<br>    subnetwork          - (Optional) The name of the subnetwork to which the node pool is connected. If left blank, the default subnetwork will be used.<br>    secondary\_pod\_range - (Optional) The name of the secondary pod range to use for the node pool. If left blank, the default name of "default-pool" will be used.<br>    max\_pods\_per\_node   - (Optional) The maximum number of pods per node in this node pool. If left blank, the default value of 110 will be used. | <pre>object({<br>    create_pod_range     = optional(bool)<br>    enable_private_nodes = optional(bool)<br>    pod_ipv4_cidr_block  = optional(string)<br>    pod_range            = optional(string)<br>    additional_node_network_configs = object({<br>      network    = optional(string)<br>      subnetwork = optional(string)<br>    })<br>    additional_pod_network_configs = object({<br>      subnetwork          = optional(string)<br>      secondary_pod_range = optional(string)<br>      max_pods_per_node   = optional(number)<br>    })<br>  })</pre> | `null` | no |
| <a name="input_node_pool_node_config"></a> [node\_pool\_node\_config](#input\_node\_pool\_node\_config) | Node\_config block supports the following:<br>  disk\_size\_gb - (Optional) Size of the disk attached to each node, specified in GB. The smallest allowed disk size is 10GB. If unspecified, the default disk size is 100GB.<br>  disk\_type - (Optional) Type of the disk attached to each node (e.g. 'pd-standard', 'pd-ssd' or 'pd-balanced'). If unspecified, the default disk type is 'pd-standard'<br>  enable\_confidential\_storage - (Optional) Whether the nodes are created as confidential VMs.<br>  ephemeral\_storage\_config:<br>    local\_ssd\_count - (Optional) The number of local SSD disks to be attached to the node. The limit for this value is dependent upon the maximum number of disks available on the machine type of the node. The minimum value allowed is 0. If not specified, the default is 0.<br>  ephemeral\_storage\_local\_ssd\_config:<br>    local\_ssd\_count - (Optional) The number of local SSD disks to be attached to the node. The limit for this value is dependent upon the maximum number of disks available on the machine type of the node. The minimum value allowed is 0. If not specified, the default is 0.<br>  fast\_socket\_enabled - (Optional) Whether the node's runtime performance is optimized for high performance.<br>  local\_nvme\_ssd\_block\_config:<br>    local\_ssd\_count - (Optional) The number of local SSD disks to be attached to the node. The limit for this value is dependent upon the maximum number of disks available on the machine type of the node. The minimum value allowed is 0. If not specified, the default is 0.<br>  logging\_variant - Parameter for specifying the type of logging agent used in a node pool. This will override any cluster-wide default value. Valid values include DEFAULT and MAX\_THROUGHPUT<br>  gcfs\_config\_enabled - (Optional) Whether the GKE Filestore CSI Driver is enabled for the node pool.<br>  gvnic\_enabled - (Optional) Whether the GvNIC feature is enabled for the node pool.<br>  guest\_accelerator supports following:<br>    count - (Optional) The number of the guest accelerator cards exposed to this instance.<br>    type - (Optional) The type of the guest accelerator cards exposed to this instance. The default is "nvidia-tesla-v100".<br>  gpu\_driver\_installation\_config:<br>    gpu\_driver\_version - (Optional) The GPU driver version to install on the node. The default is the latest supported version.<br>  gpu\_partition\_size - (Optional) Size of the GPU partition. If not specified, the default is 0.<br>  gpu\_sharing\_config:<br>    gpu\_sharing\_strategy - (Optional) The GPU sharing strategy. Possible values are "NO\_SHARING", "SINGLE\_INSTANCE" and "MULTI\_INSTANCE". The default is "NO\_SHARING".<br>    max\_shared\_clients\_per\_gpu - (Optional) The maximum number of instances that can share a single physical GPU. The default is 0.<br>  image\_type - (Optional) The image type to use for this node. Note that for a given image type, the latest version of it will be used.<br>  labels - (Optional) The map of labels to be attached to this node.<br>  resource\_labels - (Optional) The map of resource labels to be attached to this node.<br>  local\_ssd\_count - (Optional) The number of local SSD disks to be attached to the node. The limit for this value is dependent upon the maximum number of disks available on the machine type of the node. The minimum value allowed is 0. If not specified, the default is 0.<br>  machine\_type - (Optional) The name of a Google Compute Engine machine type. The default is "e2-medium".<br>  metadata - (Optional) The metadata key/value pairs assigned to instances in the cluster.<br>  min\_cpu\_platform - (Optional) The minimum CPU platform to be used by this instance. The instance may be scheduled on the specified or newer CPU platform. Applicable values are the friendly names of CPU platforms, such as minCpuPlatform: "Intel Haswell" or minCpuPlatform: "Intel Sandy Bridge". For more information, read how to specify min CPU platform.<br>  oauth\_scopes - (Optional) The set of Google API scopes to be made available on all of the node VMs under the "default" service account. The default is "https://www.googleapis.com/auth/cloud-platform".<br>  preemptible - (Optional) Whether the nodes are created as preemptible VM instances. The default is false.<br>  reservation\_affinity:<br>    consume\_reservation\_type - (Optional) Corresponds to the type of reservation to consume. Possible values are "ANY\_RESERVATION" and "SPECIFIC\_RESERVATION". The default is "ANY\_RESERVATION".<br>    key - (Optional) Corresponds to the label key of a reservation resource. The key must be empty if consume\_reservation\_type is "ANY\_RESERVATION".<br>    values - (Optional) Corresponds to the label values of a reservation resource. The values must be 1:1 with key.<br>  spot - (Optional) Whether the nodes are created as preemptible VM instances. The default is false.<br>  sandbox\_config\_type - (Optional) The sandbox configuration for this node.<br>  boot\_disk\_kms\_key - (Optional) The Customer Managed Encryption Key used to encrypt the boot disk attached to the node. The Customer Managed Encryption Key must be in the same region as the cluster. When specified, the node boot disk will be encrypted with the provided Customer Managed Encryption Key using Google Cloud Storage encryption. If unspecified, the boot disk will be encrypted with Google default encryption.<br>  service\_account - (Optional) The Google Cloud Platform Service Account to be used by the node VMs. If no Service Account is specified, the "default" service account is used.<br>  shielded\_instance\_config:<br>    enable\_secure\_boot - (Optional) Defines whether the instance has Secure Boot enabled. Secure Boot helps ensure that the system only runs authentic software by verifying the digital signature of all boot components, and halting the boot process if signature verification fails.<br>    enable\_integrity\_monitoring - (Optional) Defines whether the instance has integrity monitoring enabled. Enables monitoring and attestation of the boot integrity of the instance. The attestation is performed against the integrity policy baseline. This baseline is initially derived from the implicitly trusted boot image when the instance is created.<br>  tags - The list of instance tags applied to all nodes. Tags are used to identify valid sources or targets for network firewalls and are specified by the client during cluster or node pool creation. Each tag within the list must comply with RFC1035.<br>  taint supports:<br>    key - (Required) Key for the taint.<br>    value - (Required) Value for the taint.<br>    effect - (Required) Effect for the taint. Possible values are "NO\_SCHEDULE", "PREFER\_NO\_SCHEDULE" and "NO\_EXECUTE".<br>  workload\_metadata\_config\_mode - (Optional) The workload metadata configuration for this node.<br>  kubelet\_config:<br>    cpu\_manager\_policy - (Optional) The CPU management policy on the node. Available values are "none", "static" and "default". The default is "none".<br>    cpu\_cfs\_quota - (Optional) Whether the CPU CFS quota is enabled. The default is false.<br>    cpu\_cfs\_quota\_period - (Optional) The CPU CFS quota period value. The default is "100ms".<br>  linux\_node\_config\_sysctls - (Optional) The map of sysctl values to be set on the node.<br>  node\_group - (Optional) The name of the node group from which the node is created. If specified, the node will be created in the node group.<br>  sole\_tenant\_config:<br>    node\_affinity supports:<br>      key - (Required) The key for the node affinity label.<br>      operator - (Required) The operator for node affinity. Possible values are "IN" and "NOT\_IN".<br>      values - (Required) The values for the node affinity label.<br>  advanced\_machine\_features:<br>    threads\_per\_core - (Optional) The number of threads per core in the node. The default is 1. | <pre>object({<br>    disk_size_gb                = optional(number, 100)<br>    disk_type                   = optional(string, "pd-standard")<br>    enable_confidential_storage = optional(bool)<br>    ephemeral_storage_config = optional(object({<br>      local_ssd_count = number<br>    }))<br>    ephemeral_storage_local_ssd_config = optional(object({<br>      local_ssd_count = number<br>    }))<br>    fast_socket_enabled = optional(bool)<br>    local_nvme_ssd_block_config = optional(object({<br>      local_ssd_count = optional(number)<br>    }))<br>    logging_variant     = optional(string)<br>    gcfs_config_enabled = optional(bool)<br>    gvnic_enabled       = optional(bool)<br>    guest_accelerator = optional(object({<br>      count = number<br>      type  = string<br>      gpu_driver_installation_config = optional(object({<br>        gpu_driver_version = string<br>      }))<br>      gpu_partition_size = optional(number)<br>      gpu_sharing_config = optional(object({<br>        gpu_sharing_strategy       = string<br>        max_shared_clients_per_gpu = number<br>      }))<br>    }))<br>    image_type       = optional(string)<br>    labels           = optional(map(string))<br>    resource_labels  = optional(map(string))<br>    local_ssd_count  = optional(number, 0)<br>    machine_type     = optional(string, "e2-medium")<br>    metadata         = optional(map(string))<br>    min_cpu_platform = optional(string)<br>    oauth_scopes     = optional(list(string))<br>    preemptible      = optional(bool, false)<br>    reservation_affinity = optional(object({<br>      consume_reservation_type = string<br>      key                      = optional(string)<br>      values                   = optional(list(string))<br>    }))<br>    spot                = optional(bool, false)<br>    sandbox_config_type = optional(string)<br>    boot_disk_kms_key   = optional(string)<br>    service_account     = optional(string)<br>    shielded_instance_config = optional(object({<br>      enable_secure_boot          = optional(bool, false)<br>      enable_integrity_monitoring = optional(bool, true)<br>    }))<br>    tags = optional(list(string))<br>    taint = optional(list(object({<br>      key    = string<br>      value  = string<br>      effect = string<br>    })))<br>    workload_metadata_config_mode = optional(string)<br>    kubelet_config = optional(object({<br>      cpu_manager_policy   = string<br>      cpu_cfs_quota        = optional(bool)<br>      cpu_cfs_quota_period = optional(string)<br>      pod_pids_limit       = optional(number)<br>    }))<br>    linux_node_config_sysctls     = optional(map(string))<br>    linux_node_config_cgroup_mode = optional(string)<br>    node_group                    = optional(string)<br>    sole_tenant_config = optional(object({<br>      node_affinity = list(object({<br>        key      = string<br>        operator = string<br>        values   = list(string)<br>      }))<br>    }))<br>    advanced_machine_features = optional(object({<br>      threads_per_core = number<br>    }))<br>  })</pre> | `null` | no |
| <a name="input_node_pool_node_count"></a> [node\_pool\_node\_count](#input\_node\_pool\_node\_count) | The initial number of nodes for the pool. In regional or multi-zonal clusters, this is the number of nodes per zone. Changing this will force recreation of the resource. WARNING: Resizing your node pool manually may change this value in your existing cluster, which will trigger destruction and recreation on the next Terraform run (to rectify the discrepancy). If you don't need this value, don't set it. If you do need it, | `number` | `1` | no |
| <a name="input_node_pool_node_locations"></a> [node\_pool\_node\_locations](#input\_node\_pool\_node\_locations) | The list of zones in which the node pool's nodes should be located. Nodes must be in the region of their regional cluster or in the same region as their cluster's zone for zonal clusters. If unspecified, the cluster-level node\_locations will be used. | `list(string)` | `null` | no |
| <a name="input_node_pool_placement_policy"></a> [node\_pool\_placement\_policy](#input\_node\_pool\_placement\_policy) | Node\_pool\_placement\_policy block supports the following:<br>  type - (Optional) The type of the placement policy. The default is "UNSPECIFIED".<br>  policy\_name - (Optional) The name of the placement policy. The default is "UNSPECIFIED".<br>  tpu\_topology - (Optional) The topology of the TPU. The default is "UNSPECIFIED". | <pre>object({<br>    type         = string<br>    policy_name  = optional(string)<br>    tpu_topology = optional(string)<br>  })</pre> | `null` | no |
| <a name="input_node_pool_queued_provisioning_enabled"></a> [node\_pool\_queued\_provisioning\_enabled](#input\_node\_pool\_queued\_provisioning\_enabled) | Makes nodes obtainable through the ProvisioningRequest API exclusively. | `bool` | `null` | no |
| <a name="input_node_pool_upgrade_settings"></a> [node\_pool\_upgrade\_settings](#input\_node\_pool\_upgrade\_settings) | Node\_pool\_upgrade\_settings block supports the following:<br>  max\_surge - (Optional) The maximum number of nodes that can be created beyond the current size of the node pool during the upgrade process. The default is 1.<br>  max\_unavailable - (Optional) The maximum number of nodes that can be simultaneously unavailable during the upgrade process. The default is 0. | <pre>object({<br>    max_surge       = optional(string)<br>    max_unavailable = optional(string)<br>  })</pre> | `null` | no |
| <a name="input_node_pool_version"></a> [node\_pool\_version](#input\_node\_pool\_version) | The Kubernetes version for the nodes in this pool. Note that if this field and auto\_upgrade are both specified, they will fight each other for what the node version should be, so setting both is highly discouraged. While a fuzzy version can be specified, it's recommended that you specify explicit versions as Terraform will see spurious diffs when fuzzy versions are used. See the google\_container\_engine\_versions data source's version\_prefix field t | `string` | `null` | no |
| <a name="input_node_version"></a> [node\_version](#input\_node\_version) | The Kubernetes version on the nodes. Must either be unset or set to the same value as min\_master\_version on create. Defaults to the default version set by GKE which is not necessarily the latest version. This only affects nodes in the default node pool. While a fuzzy version can be specified, it's recommended that you specify explicit versions as Terraform will see spurious diffs when fuzzy versions are used. See the google\_container\_engine\_versions data source's version\_prefix field to approximate fuzzy versions in a Terraform-compatible way. To update nodes in other node pools, use the version attribute on the node pool. | `string` | `null` | no |
| <a name="input_notification_config"></a> [notification\_config](#input\_notification\_config) | Notification\_config block supports the following:<br>  pubsub\_enabled - (Required) Whether to send notifications about the cluster to the Google Cloud Console. If this field is enabled, the locations field must be specified.<br>  pubsub\_topic - (Optional) The desired Pub/Sub topic to which notifications will be sent by GKE. If pubsub\_enabled is enabled, this field is required.<br>  filter\_event\_type - (Optional) The desired Pub/Sub topic to which notifications will be sent by GKE. If pubsub\_enabled is enabled, this field is required. | <pre>object({<br>    pubsub_enabled    = bool<br>    pubsub_topic      = optional(string)<br>    filter_event_type = optional(string)<br>  })</pre> | `null` | no |
| <a name="input_pod_security_policy_config_enabled"></a> [pod\_security\_policy\_config\_enabled](#input\_pod\_security\_policy\_config\_enabled) | Enable the PodSecurityPolicy controller for this cluster. If enabled, pods must be valid under a PodSecurityPolicy to be created. | `bool` | `false` | no |
| <a name="input_private_cluster_config"></a> [private\_cluster\_config](#input\_private\_cluster\_config) | Private\_cluster\_config block supports the following:<br>  enable\_private\_nodes - (Optional) Whether the master's internal IP address is used as the cluster endpoint. If enabled, the master can only be accessed from internal IP addresses. This option is useful for security-sensitive workloads. Default is false.<br>  enable\_private\_endpoint - (Optional) Whether the master's internal IP address is used as the cluster endpoint. If enabled, the master can only be accessed from internal IP addresses. This option is useful for security-sensitive workloads. Default is false.<br>  master\_ipv4\_cidr\_block - (Optional) The IP range in CIDR notation to use for the hosted master network. This range will be used for assigning internal IP addresses to the master or set of masters, as well as the ILB used to expose the master to the internet. This range must not overlap with any other ranges in use within the cluster's network. If left blank, the default value of '<br>  master\_global\_access\_config\_enabled - (Optional) Whether the master's internal IP address is used as the cluster endpoint. If enabled, the master can only be accessed from internal IP addresses. This option is useful for security-sensitive workloads. Default is false. | <pre>object({<br>    enable_private_nodes                = optional(bool)<br>    enable_private_endpoint             = optional(bool)<br>    master_ipv4_cidr_block              = optional(string)<br>    master_global_access_config_enabled = optional(bool)<br>  })</pre> | `null` | no |
| <a name="input_private_ipv6_google_access"></a> [private\_ipv6\_google\_access](#input\_private\_ipv6\_google\_access) | The desired state of IPv6 connectivity to Google Services. By default, no private IPv6 access to or from Google Services (all access will be via IPv4). | `string` | `null` | no |
| <a name="input_project"></a> [project](#input\_project) | The ID of the project in which to create the node pool. | `string` | n/a | yes |
| <a name="input_protect_config"></a> [protect\_config](#input\_protect\_config) | Protect\_config block supports the following:<br>  workload\_vulnerability\_mode - (Optional) The workload identity mode for the cluster. Default is "SECURE\_WORKLOAD".<br>  workload\_config\_audit - (Optional) The workload identity mode for the cluster. Default is "SECURE\_WORKLOAD". | <pre>object({<br>    workload_vulnerability_mode = optional(string)<br>    workload_config_audit       = optional(string)<br>  })</pre> | `null` | no |
| <a name="input_release_channel"></a> [release\_channel](#input\_release\_channel) | Configuration options for the Release channel feature, which provide more control over automatic upgrades of your GKE clusters. When updating this field, GKE imposes specific version requirements. See Selecting a new release channel for more details; the google\_container\_engine\_versions datasource can provide the default version for a channel. Note that removing the release\_channel field from your config will cause Terraform to stop managing your cluster's release channel, but will not unenroll it. Instead, use the UNSPECIFIED channel. | `string` | `"UNSPECIFIED"` | no |
| <a name="input_remove_default_node_pool"></a> [remove\_default\_node\_pool](#input\_remove\_default\_node\_pool) | If true, deletes the default node pool upon cluster creation. If you're using google\_container\_node\_pool resources with no default node pool, this should be set to true, alongside setting initial\_node\_count to at least 1. | `bool` | `false` | no |
| <a name="input_resource_labels"></a> [resource\_labels](#input\_resource\_labels) | The GCE resource labels (a map of key/value pairs) to be applied to the cluster. | `map(string)` | `null` | no |
| <a name="input_resource_usage_export_config"></a> [resource\_usage\_export\_config](#input\_resource\_usage\_export\_config) | Resource\_usage\_export\_config block supports the following:<br>  bigquery\_destination\_dataset\_id - The ID of a BigQuery Dataset. If set, the cluster's usage will be exported to this BigQuery Dataset. The project that owns this BigQuery Dataset must be the same as the project of the cluster. If not set, no usage will be exported.<br>  enable\_network\_egress\_metering - (Optional) Whether to enable network egress metering for this cluster. If enabled, a daemonset will be created in the cluster to meter network egress traffic.<br>  enable\_resource\_consumption\_metering - (Optional) Whether to enable resource consumption metering on this cluster. If enabled, a second BigQuery dataset will be created to store resource consumption data. | <pre>object({<br>    bigquery_destination_dataset_id      = string<br>    enable_network_egress_metering       = optional(bool)<br>    enable_resource_consumption_metering = optional(bool)<br>  })</pre> | `null` | no |
| <a name="input_security_posture_config"></a> [security\_posture\_config](#input\_security\_posture\_config) | Security\_posture\_config block supports the following:<br>  mode - (Optional) The security posture mode for the cluster. Default is "SECURE\_CLUSTER".<br>  vulnerability\_mode - (Optional) The vulnerability mode for the cluster. Default is "SECURE\_CLUSTER". | <pre>object({<br>    mode               = optional(string)<br>    vulnerability_mode = optional(string)<br>  })</pre> | `null` | no |
| <a name="input_service_external_ips_config_enabled"></a> [service\_external\_ips\_config\_enabled](#input\_service\_external\_ips\_config\_enabled) | Controls whether external ips specified by a service will be allowed. It is enabled by default. | `bool` | `null` | no |
| <a name="input_subnetwork"></a> [subnetwork](#input\_subnetwork) | The name or self\_link of the Google Compute Engine subnetwork in which the cluster's instances are launched. | `string` | `null` | no |
| <a name="input_vertical_pod_autoscaling_enabled"></a> [vertical\_pod\_autoscaling\_enabled](#input\_vertical\_pod\_autoscaling\_enabled) | Whether to enable autoscaling for the Vertical Pod Autoscaler. | `bool` | `false` | no |
| <a name="input_workload_alts_config_enable"></a> [workload\_alts\_config\_enable](#input\_workload\_alts\_config\_enable) | Whether the alts handshaker should be enabled or not for direct-path. Requires Workload Identity (workloadPool) must be non-empty). | `bool` | `null` | no |
| <a name="input_workload_identity_config_pool"></a> [workload\_identity\_config\_pool](#input\_workload\_identity\_config\_pool) | The workload identity pool to attach to the cluster. | `string` | `null` | no |

## Outputs

| Name | Description |
|------|-------------|
| <a name="output_cluster_self_link"></a> [cluster\_self\_link](#output\_cluster\_self\_link) | The URI of the cluster. |
| <a name="output_node_pool_id"></a> [node\_pool\_id](#output\_node\_pool\_id) | The id of the node pool. |

```
module "gke_cluster" {
  source                                     = "../"
  container_cluster_name                     = var.container_cluster_name
  location                                   = var.location
  node_locations                             = var.node_locations
  deletion_protection                        = var.deletion_protection
  addons_config                              = var.addons_config
  allow_net_admin                            = var.allow_net_admin
  cluster_ipv4_cidr                          = var.cluster_ipv4_cidr
  cluster_autoscaling                        = var.cluster_autoscaling
  binary_authorization                       = var.binary_authorization
  service_external_ips_config_enabled        = var.service_external_ips_config_enabled
  mesh_certificates_enable                   = var.mesh_certificates_enable
  database_encryption                        = var.database_encryption
  description                                = var.description
  default_max_pods_per_node                  = var.default_max_pods_per_node
  enable_kubernetes_alpha                    = var.enable_kubernetes_alpha
  enable_k8s_beta_api                        = var.enable_k8s_beta_api
  enable_tpu                                 = var.enable_tpu
  enable_legacy_abac                         = var.enable_legacy_abac
  enable_shielded_nodes                      = var.enable_shielded_nodes
  enable_autopilot                           = var.enable_autopilot
  initial_node_count                         = var.initial_node_count
  ip_allocation_policy                       = var.ip_allocation_policy
  networking_mode                            = var.networking_mode
  logging_config_enable_components           = var.logging_config_enable_components
  logging_service                            = var.logging_service
  maintenance_policy                         = var.maintenance_policy
  master_auth                                = var.master_auth
  master_authorized_networks_config          = var.master_authorized_networks_config
  min_master_version                         = var.min_master_version
  monitoring_service                         = var.monitoring_service
  monitoring_config                          = var.monitoring_config
  network                                    = var.network
  network_policy                             = var.network_policy
  node_config                                = var.node_config
  node_pool_auto_config                      = var.node_pool_auto_config
  node_pool_defaults                         = var.node_pool_defaults
  node_version                               = var.node_version
  notification_config                        = var.notification_config
  confidential_nodes_enabled                 = var.confidential_nodes_enabled
  pod_security_policy_config_enabled         = var.pod_security_policy_config_enabled
  authenticator_groups_config_security_group = var.authenticator_groups_config_security_group
  private_cluster_config                     = var.private_cluster_config
  cluster_telemetry_type                     = var.cluster_telemetry_type
  project                                    = var.project
  release_channel                            = var.release_channel
  remove_default_node_pool                   = var.remove_default_node_pool
  resource_labels                            = var.resource_labels
  cost_management_config_enabled             = var.cost_management_config_enabled
  resource_usage_export_config               = var.resource_usage_export_config
  subnetwork                                 = var.subnetwork
  vertical_pod_autoscaling_enabled           = var.vertical_pod_autoscaling_enabled
  workload_identity_config_pool              = var.workload_identity_config_pool
  identity_service_config_enabled            = var.identity_service_config_enabled
  enable_intranode_visibility                = var.enable_intranode_visibility
  enable_l4_ilb_subsetting                   = var.enable_l4_ilb_subsetting
  enable_multi_networking                    = var.enable_multi_networking
  enable_fqdn_network_policy                 = var.enable_fqdn_network_policy
  private_ipv6_google_access                 = var.private_ipv6_google_access
  datapath_provider                          = var.datapath_provider
  default_snat_status_disabled               = var.default_snat_status_disabled
  dns_config                                 = var.dns_config
  gateway_api_config_channel                 = var.gateway_api_config_channel
  protect_config                             = var.protect_config
  security_posture_config                    = var.security_posture_config
  fleet_project                              = var.fleet_project
  workload_alts_config_enable                = var.workload_alts_config_enable
  node_pool_name                             = var.node_pool_name
  node_pool_autoscaling                      = var.node_pool_autoscaling
  node_pool_confidential_nodes_enabled       = var.node_pool_confidential_nodes_enabled
  node_pool_initial_node_count               = var.node_pool_initial_node_count
  node_pool_management                       = var.node_pool_management
  node_pool_max_pods_per_node                = var.node_pool_max_pods_per_node
  node_pool_node_locations                   = var.node_pool_node_locations
  node_pool_name_prefix                      = var.node_pool_name_prefix
  node_pool_node_config                      = var.node_pool_node_config
  node_pool_network_config                   = var.node_pool_network_config
  node_pool_upgrade_settings                 = var.node_pool_upgrade_settings
  node_pool_version                          = var.node_pool_version
  node_pool_placement_policy                 = var.node_pool_placement_policy
  node_pool_queued_provisioning_enabled      = var.node_pool_queued_provisioning_enabled
}


```
<!-- END_TF_DOCS -->